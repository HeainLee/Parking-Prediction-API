// 마트 데이터 샘플 -> [{row 1}, {row 2}, ... {row N}]

// 예측 데이터 샘플 -> {
    // lt: ___ , name: ___, congestionIndex: [
    //     {"predictinoTime": "___", "congestion": __},
    //     {"predictinoTime": "___", "congestion": __}
    //   ]
    // }
// 요구사항
// 배치 수행 주기는 10~20분 - celery secheduling 등록 
// 마트 데이터 파일 생성 주기
// 예측 데이터 주기는 5분


모델을 어떻게 저장하지? id? 날짜? 모델이름? 

모델 생성 규칙
/parking/model 로 모델 생성 요청
-> 기계학습 모델 학습이 완료되면 id를 부여해서 폴더 생성
-> 해당 폴더 하위에 모델 파일(.pickle)과 모델 정보(.txt) 저장


#! 모델 정보 "parkingLot_1.txt" 예시
> 학습한 칼럼 정보
> 모델 이름(SVR, RandomForestRegressor, ...)
> CV5 스코어 정보


< file I/O example >
with open('file.txt', 'w') as file:
...     file.write(json.dumps(results))

with open('file.txt') as file:
...     get_file = json.loads(file.read())

// get_file={'m_name': 'SVR', 'col': ['kk', 'gg'], 'cv': [11, 22, 33]}


모델 조회 방법
/parking/model 로 전체 생성된 모델 조회
/parking/model/id 로 특정 생성된 모델 조회


배치 생성 방법
/parking/model/id?batch=start 로 배치 생성
/parking/model/id?batch=status 로 배치 조회


< 생성된 모델 저장 구조 예시 >
"info": [
    {
        "dirname": "1",
        "filename": [
            "parkingLot_1.model",
            "parkingLot_1.txt",
            "parkingLot_2.model",
            "parkingLot_2.txt",        
        ]
    },
    {
        "dirname": "2",
        "filename": [
            "my_model.model",
            "my_model.txt"
        ]
    },
    {
        "dirname": "3",
        "filename": [
            "my_model.model",
            "my_model.txt"
        ]
    },
    {
        "dirname": "4",
        "filename": [
            "my_model.model",
            "my_model.txt"
        ]
    }
]



< 마트 데이터 사용 >
POST parking/model : 주차장 모델 생성
GET  parking/model : 주차장 모델 생성 결과 조회 
GET  parking/model/id : 주차장 모델 생성 결과 조회 

< 예측 데이터 사용 >
POST  parking/model/id?batch=start : 주차장 모델 배치 생성 
GET   parking/model/id?batch=status : 주차장 모델 배치 조회
PATCh parking/model/id?batch=revise : 주장 모델 배치 수정 생성

[
    {
        "eventTime": "20200304T115120",
        "name": "parkingLot_1",
        "availableSpotNumber": 0,
        "totalSpotNumber": 110,
        "observation": {
            "temperature": 10.2,
            "windSpeed": 0.3,
            "humidity": 68,
            "rainfall": 0.2,
            "hourlyRainfall": 2.5,
            "rainType": "비",
            "snowfall": 0.2,
            "visibility": 3000
        },
        "prediction": [
            {
                "temperature": 10.1,
                "lowestTemperature": -3.0,
                "highestTemperature": 7.0,
                "windSpeed": 0.2,
                "humidity": 68,
                "rainfall": 10,
                "rainfallProbability": 60,
                "rainType": "비",
                "snowfall": 0,
                "predictedAt": "20200304T100000"
            },
            {
                "temperature": 14.1,
                "lowestTemperature": -3.0,
                "highestTemperature": 7.0,
                "windSpeed": 0.3,
                "humidity": 65,
                "rainfall": 20,
                "rainfallProbability": 60,
                "rainType": "비",
                "snowfall": 0,
                "predictedAt": "20200304T120000"
            }
        ]
    },
    {
        "eventTime": "20200304T115120",
        "name": "parkingLot_1",
        "availableSpotNumber": 0,
        "totalSpotNumber": 110,
        "observation": {
            "temperature": 10.2,
            "windSpeed": 0.3,
            "humidity": 68,
            "rainfall": 0.2,
            "hourlyRainfall": 2.5,
            "rainType": "비",
            "snowfall": 0.2,
            "visibility": 3000
        },
        "prediction": [
            {
                "temperature": 10.1,
                "lowestTemperature": -3.0,
                "highestTemperature": 7.0,
                "windSpeed": 0.2,
                "humidity": 68,
                "rainfall": 10,
                "rainfallProbability": 60,
                "rainType": "비",
                "snowfall": 0,
                "predictedAt": "20200304T100000"
            },
            {
                "temperature": 14.1,
                "lowestTemperature": -3.0,
                "highestTemperature": 7.0,
                "windSpeed": 0.3,
                "humidity": 65,
                "rainfall": 20,
                "rainfallProbability": 60,
                "rainType": "비",
                "snowfall": 0,
                "predictedAt": "20200304T120000"
            }
        ]
    }
]